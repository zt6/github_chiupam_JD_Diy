<h1 align="center">
  å’Œä¸œå“¥åšå…„å¼Ÿ
  <br>
  Author: chiupam
</h1>

## ç›®å½•
- [ç›®å½•](#ç›®å½•)
- [ä»“åº“ç›®å½•è¯´æ˜](#ä»“åº“ç›®å½•è¯´æ˜)
- [ç‰ˆæƒ](#ç‰ˆæƒ)
- [å£°æ˜](#å£°æ˜)
- [ç‰¹åˆ«æ„Ÿè°¢](#ç‰¹åˆ«æ„Ÿè°¢)
- [ç®€ä»‹](#ç®€ä»‹)
- [å·²æœ‰åŠŸèƒ½](#å·²æœ‰åŠŸèƒ½)
  - [åŸºç¡€åŠŸèƒ½](#åŸºç¡€åŠŸèƒ½)
  - [å¯æ‹“å±•åŠŸèƒ½](#å¯æ‹“å±•åŠŸèƒ½)
  - [user.pyåŠŸèƒ½](#userpyåŠŸèƒ½)
- [ä½¿ç”¨æ–¹å¼](#ä½¿ç”¨æ–¹å¼)
  - [éƒ¨ç½²æœºå™¨äºº](#éƒ¨ç½²æœºå™¨äºº)
  - [V4BOTç”¨æˆ·éƒ¨ç½²user.py](#v4botç”¨æˆ·éƒ¨ç½²userpy)
  - [é’é¾™ç”¨æˆ·éƒ¨ç½²user.py](#é’é¾™ç”¨æˆ·éƒ¨ç½²userpy)
- [å‰ç»è®¡åˆ’](#å‰ç»è®¡åˆ’)
  - [ç”¨æˆ·è¦æ±‚](#ç”¨æˆ·è¦æ±‚)
  - [éƒ¨ç½²æ–¹æ³•](#éƒ¨ç½²æ–¹æ³•)
# ä»“åº“ç›®å½•è¯´æ˜
```text
JD_Diy/               # JD_Diy ä»“åº“
  |-- backup            # ç§»é™¤çš„æ—§æ–‡ä»¶
  |-- beta              # æµ‹è¯•ç‰ˆæœºå™¨äºº
  |-- config            # é…ç½®ç›®å½•
  |-- jbot              # æ­£å¼ç‰ˆæœºå™¨äºº
  |-- module            # å®ä¾‹æ¨¡å—
  |-- pys               # pythonç‰ˆäº¬ä¸œ
  `-- README.md         # ä»“åº“è¯´æ˜
```
# ç‰ˆæƒ
- æœªç»æœ¬äººåŒæ„ï¼Œä»“åº“å†…æ‰€æœ‰èµ„æºæ–‡ä»¶ï¼Œç¦æ­¢ä»»ä½•å…¬ä¼—å·ã€è‡ªåª’ä½“ã€å¼€å‘è€…è¿›è¡Œä»»ä½•å½¢å¼çš„è½¬è½½ã€å‘å¸ƒã€æ¬è¿ã€‚
# å£°æ˜
- è¿™ä¸æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œåªæ˜¯æŠŠ GitHub å½“ä½œä¸€ä¸ªä»£ç çš„å­˜å‚¨ç©ºé—´ï¼Œæœ¬é¡¹ç›®ä¸æ¥å—ä»»ä½•å¼€æºè¦æ±‚ã€‚
- ä»…ç”¨äºå­¦ä¹ ç ”ç©¶ï¼Œç¦æ­¢ç”¨äºå•†ä¸šç”¨é€”ï¼Œä¸èƒ½ä¿è¯å…¶åˆæ³•æ€§ï¼Œå‡†ç¡®æ€§ï¼Œå®Œæ•´æ€§å’Œæœ‰æ•ˆæ€§ï¼Œè¯·æ ¹æ®æƒ…å†µè‡ªè¡Œåˆ¤æ–­ã€‚
- æœ¬äººå¯¹ä»»ä½•è„šæœ¬é—®é¢˜æ¦‚ä¸è´Ÿè´£ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç”±ä»»ä½•è„šæœ¬é”™è¯¯å¯¼è‡´çš„ä»»ä½•æŸå¤±æˆ–æŸå®³ã€‚
- é—´æ¥ä½¿ç”¨è„šæœ¬çš„ä»»ä½•ç”¨æˆ·ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºå»ºç«‹VPSæˆ–åœ¨æŸäº›è¡Œä¸ºè¿åå›½å®¶/åœ°åŒºæ³•å¾‹æˆ–ç›¸å…³æ³•è§„çš„æƒ…å†µä¸‹è¿›è¡Œä¼ æ’­, æœ¬äººå¯¹äºç”±æ­¤å¼•èµ·çš„ä»»ä½•éšç§æ³„æ¼æˆ–å…¶ä»–åæœæ¦‚ä¸è´Ÿè´£ã€‚
- å¦‚æœä»»ä½•å•ä½æˆ–ä¸ªäººè®¤ä¸ºè¯¥é¡¹ç›®çš„è„šæœ¬å¯èƒ½æ¶‰å«Œä¾µçŠ¯å…¶æƒåˆ©ï¼Œåˆ™åº”åŠæ—¶é€šçŸ¥å¹¶æä¾›èº«ä»½è¯æ˜ã€æ‰€æœ‰æƒè¯æ˜ï¼Œæˆ‘å°†åœ¨æ”¶åˆ°è®¤è¯æ–‡ä»¶ååˆ é™¤ç›¸å…³è„šæœ¬ã€‚
- ä»»ä½•ä»¥ä»»ä½•æ–¹å¼æŸ¥çœ‹æ­¤é¡¹ç›®çš„äººæˆ–è€…ä»¥ç›´æ¥æˆ–é—´æ¥çš„æ–¹å¼ä½¿ç”¨è¯¥é¡¹ç›®çš„ä»»ä½•è„šæœ¬çš„ä½¿ç”¨è€…éƒ½åº”ä»”ç»†é˜…è¯»æ­¤å£°æ˜ã€‚ æœ¬äººä¿ç•™éšæ—¶æ›´æ”¹æˆ–è¡¥å……æ­¤å…è´£å£°æ˜çš„æƒåˆ©ã€‚ä¸€æ—¦ä½¿ç”¨å¹¶å¤åˆ¶æˆ–ä½¿ç”¨äº†ä»»ä½•ç›¸å…³è„šæœ¬ï¼Œåˆ™è§†ä¸ºæ‚¨å·²æ¥å—æ­¤å…è´£å£°æ˜ã€‚
- æ‚¨å¿…é¡»åœ¨ä¸‹è½½åçš„24å°æ—¶å†…ä»è®¡ç®—æœºæˆ–æ‰‹æœºä¸­å®Œå…¨åˆ é™¤ä»¥ä¸Šå†…å®¹ã€‚
# ç‰¹åˆ«æ„Ÿè°¢
- è„šæœ¬çš„å†™ä½œå‚è€ƒäº† [SuMaiKaDe](https://github.com/SuMaiKaDe) çš„ [jddockerbot](https://github.com/SuMaiKaDe/bot) ä»“åº“
- æ¨¡å—çš„å†™ä½œå‚è€ƒäº† lxk0301 çš„ jd_sctipts ä»“åº“
## ç®€ä»‹
éšç€ v4-bot å¯åŠ¨è€Œå¯åŠ¨çš„è‡ªå®šä¹‰æœºå™¨äººï¼Œå…¶ä¸­å¤§éƒ¨åˆ†åŠŸèƒ½äº¦æ”¯æŒé’é¾™ç”¨æˆ·ã€‚
## å·²æœ‰åŠŸèƒ½
### åŸºç¡€åŠŸèƒ½
- [x] å‘é€ `/start` æŒ‡ä»¤å¯å¼€å¯è‡ªå®šä¹‰æœºå™¨äºº
- [x] å‘é€ `/restart` æŒ‡ä»¤å¯é‡å¯æœºå™¨äºº
- [x] å‘é€ `/help` æŒ‡ä»¤å¯è·å–å¿«æ·å‘½ä»¤
- [x] å‘é€ `/install` æŒ‡ä»¤å¯æ‹“å±•åŠŸèƒ½
- [x] å‘é€ `/uninstall` æŒ‡ä»¤å¯å¸è½½åŠŸèƒ½
- [x] å‘é€ `/list` æŒ‡ä»¤åˆ—å‡ºå·²æœ‰åŠŸèƒ½
### å¯æ‹“å±•åŠŸèƒ½
- [x] å‘é€ `/upbot` å‡çº§æœºå™¨äºº
- [x] å‘é€ `/checkcookie` æ£€æµ‹è¿‡æœŸæƒ…å†µ
- [x] å‘é€ `/export` ä¿®æ”¹ç¯å¢ƒå˜é‡
- [x] å‘é€ `/blockcookie` è¿›è¡Œå±è”½æ“ä½œ
- [x] ä¸‹è½½ `.js` `.py` `.sh` çš„ `raw` æ–‡ä»¶
- [x] æ·»åŠ ä»¥ `.git` ç»“å°¾çš„ä»“åº“é“¾æ¥å¯æ·»åŠ ä»“åº“
- [x] å‘é€ `å˜é‡å="å˜é‡å€¼"` çš„æ ¼å¼æ¶ˆæ¯å¯å¿«æ·æ·»åŠ ç¯å¢ƒå˜é‡
### user.pyåŠŸèƒ½
- [x] ç›‘æ§å¸ƒé“åœºã€åŠ¨ç‰©å›­é¢‘é“ï¼Œå…³æ³¨åº—é“ºæœ‰ç¤¼
- [x] ç›‘æ§é¾™ç‹åº™é¢‘é“ï¼Œç›‘æ§å¹¶å®šæ—¶æ‰§è¡Œçº¢åŒ…é›¨
- [x] ç›‘æ§ç»„é˜Ÿç“œåˆ†IDé¢‘é“ï¼Œè‡ªåŠ¨æ›¿æ¢ç¯å¢ƒå˜é‡
- [x] ç›‘æ§åŠ¨ç‰©å›­é¢‘é“ï¼Œè‡ªåŠ¨ä¸‹è½½å¼€å¡è„šæœ¬å¹¶é€‰æ‹©æ‰§è¡Œ
## ä½¿ç”¨æ–¹æ³•
### éƒ¨ç½²æœºå™¨äºº
#### æ–¹æ³•ä¸€ã€ åœ¨å®¹å™¨ä¸­ä½¿ç”¨å‘½ä»¤
```shell
rm -rf diybot.sh
wget https://ghproxy.com/https://raw.githubusercontent.com/chiupam/JD_Diy/master/config/diybot.sh
bash diybot.sh
```
#### æ–¹æ³•äºŒã€ ç»™æœºå™¨äººå‘æ¶ˆæ¯
```text
/cmd rm -rf diybot.sh;wget https://ghproxy.com/https://raw.githubusercontent.com/chiupam/JD_Diy/master/config/diybot.sh;bash diybot.sh
```
### V4BOTç”¨æˆ·éƒ¨ç½²[user.py](https://github.com/chiupam/JD_Diy/blob/main/jbot/user.py)
1. è¿›å…¥å®¹å™¨ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š`docker exec -it jd bash`
2. æŠŠ [user.py](https://github.com/chiupam/JD_Diy/blob/main/jbot/user.py) ä¸‹è½½åˆ° `/jbot/diy` ç›®å½•ä¸‹ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š`cd /jd/jbot/diy;rm -rf user.py;wget https://raw.githubusercontent.com/chiupam/JD_Diy/master/jbot/user.py;cd /jd/;pm2 stop jbot;rm -rf user.session;python3 -m jbot`
3. è¾“å…¥æ‰‹æœºå·å’Œ `telegram` éªŒè¯ç è¿›è¡Œç™»å½•åæŒ‰ `Ctrl`+`C` é€€å‡ºå‰å°è¿è¡Œï¼Œä¸ç®¡å‡ºç°ä»»ä½•æƒ…å†µï¼Œéƒ½ç»§ç»­æ‰§è¡Œç¬¬4æ­¥
4. åå°æŒ‚èµ·æœºå™¨äººï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š`pm2 start jbot`
### é’é¾™ç”¨æˆ·éƒ¨ç½²[user.py](https://github.com/chiupam/JD_Diy/blob/main/jbot/user.py) 
1. è¿›å…¥å®¹å™¨ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š`docker exec -it qinglong bash`
2. æŠŠ [user.py](https://github.com/chiupam/JD_Diy/blob/main/jbot/user.py) ä¸‹è½½åˆ° `/jbot/diy` ç›®å½•ä¸‹ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š`cd /ql/jbot/diy;rm -rf user.py;wget https://raw.githubusercontent.com/chiupam/JD_Diy/master/jbot/user.py;cd /ql/;ps -ef | grep "python3 -m jbot" | grep -v grep | awk '{print $1}' | xargs kill -9 2>/dev/null;rm -rf user.session;python3 -m jbot`
3. è¾“å…¥æ‰‹æœºå·å’Œ `telegram` éªŒè¯ç è¿›è¡Œç™»å½•åæŒ‰ `Ctrl`+`C` é€€å‡ºå‰å°è¿è¡Œï¼Œä¸ç®¡å‡ºç°ä»»ä½•æƒ…å†µï¼Œéƒ½ç»§ç»­æ‰§è¡Œç¬¬4æ­¥
4. åå°æŒ‚èµ·æœºå™¨äººï¼Œè¾“å…¥å‘½ä»¤ï¼š`nohup python3 -m jbot > /ql/log/bot/bot.log 2>&1 &`
## å‰ç»è®¡åˆ’
æµ‹è¯•ç‰ˆæœºå™¨äººçš„éƒ¨ç½²æ–¹æ³•ï¼ŒåŠŸèƒ½ä¸ç¨³å®šï¼Œä¸å»ºè®®å°è¯•ã€‚ä½†å¯¹æµ‹è¯•åšå‡ºä¸€å®šè´¡çŒ®çš„ç”¨æˆ·å¯è¿›å…¥ğŸç¾¤~
### ç”¨æˆ·è¦æ±‚
- æ¯”è¾ƒçƒ­çˆ±æŠ˜è…¾
- ä¸€å®šçš„æ“ä½œåŸºç¡€
- ç”šè‡³å¯ä»¥ Pr éƒ¨åˆ†åŠŸèƒ½
### éƒ¨ç½²æ–¹æ³•
```shell
rm -rf diybot_beta.sh
wget https://raw.githubusercontent.com/chiupam/JD_Diy/master/config/diybot_beta.sh
bash diybot_beta.sh
```
```text
/cmd rm -rf diybot_beta.sh;wget https://raw.githubusercontent.com/chiupam/JD_Diy/master/config/diybot_beta.sh;bash diybot_beta.sh
```